<!--

    This file is part of RouteConverter.

    RouteConverter is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.

    RouteConverter is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with RouteConverter; if not, write to the Free Software
    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA

    Copyright (C) 2007 Christian Pesch. All Rights Reserved.

-->

<project name="RouteConverter" default="compile" basedir="..">

    <!-- Initializes properties -->
    <target name="init">
        <property name="javac.debug" value="false"/>
        <property file="build/build.properties"/>
        <property name="build.output" location="build/output"/>
        <property name="build.output.tmp-linux" location="${build.output}/tmp-linux"/>
        <property name="build.output.tmp-mac" location="${build.output}/tmp-mac"/>
        <property name="build.output.tmp-windows" location="${build.output}/tmp-windows"/>
        <property name="build.output.tmp-thirdparty" location="${build.output}/tmp-thirdparty"/>
        <property name="build.output.tmp-thirdparty5" location="${build.output}/tmp-thirdparty5"/>
        <property name="build.output.tmp-jdic" location="${build.output}/tmp-jdic"/>
        <property name="build.output.tmp-jdic-linux" location="${build.output}/tmp-jdic-linux"/>
        <property name="build.output.tmp-jdic-mac" location="${build.output}/tmp-jdic-mac"/>
        <property name="build.output.tmp-jdic-windows" location="${build.output}/tmp-jdic-windows"/>
        <property name="build.output.tmp-djproject" location="${build.output}/tmp-djproject"/>
        <property name="build.output.tmp-jna" location="${build.output}/tmp-jna"/>
        <property name="build.output.tmp-swt-mac" location="${build.output}/tmp-swt-mac"/>
        <property name="build.output.tmp-swt-linux" location="${build.output}/tmp-swt-linux"/>
        <property name="build.output.tmp-swt-linux64" location="${build.output}/tmp-swt-linux64"/>
        <property name="build.output.tmp-swt-windows" location="${build.output}/tmp-swt-windows"/>
        <property name="build.output.tmp-swt-windows64" location="${build.output}/tmp-swt-windows64"/>
        <property name="build.output.webstart" location="${build.output}/webstart"/>
        <property name="build.output.src" location="${build.output}/src"/>
        <property name="build.output.javadoc" location="${build.output}/javadoc"/>
        <property name="build.test.dir" location="${build.output}/test"/>
        <property name="build.test.dir5" location="${build.output}/test5"/>
        <property name="license" location="LICENSE.txt"/>

        <property name="catalog.src" location="catalog/src"/>
        <property name="catalog.src.java" location="${catalog.src}/java"/>
        <property name="catalog.src.test" location="${catalog.src}/test"/>
        <property name="catalog.output" location="catalog/output"/>
        <property name="catalog.output.classes" location="${catalog.output}/classes"/>
        <property name="catalog.output.testclasses" location="${catalog.output}/testclasses"/>

        <property name="common.src" location="common/src"/>
        <property name="common.src.java" location="${common.src}/java"/>
        <property name="common.src.test" location="${common.src}/test"/>
        <property name="common.resources" location="${common.src}/resources"/>
        <property name="common.output" location="common/output"/>
        <property name="common.output.classes" location="${common.output}/classes"/>
        <property name="common.output.testclasses" location="${common.output}/testclasses"/>

        <property name="common-gui.src.java" location="common-gui/src/java"/>
        <property name="common-gui.output" location="common-gui/output"/>
        <property name="common-gui.output.classes" location="${common-gui.output}/classes"/>

        <property name="elevationview.src" location="elevationview/src"/>
        <property name="elevationview.src.java" location="${elevationview.src}/java"/>
        <property name="elevationview.output" location="elevationview/output"/>
        <property name="elevationview.output.classes" location="${elevationview.output}/classes"/>

        <property name="geonames.src" location="geonames/src"/>
        <property name="geonames.src.java" location="${geonames.src}/java"/>
        <property name="geonames.src.test" location="${geonames.src}/test"/>
        <property name="geonames.output" location="geonames/output"/>
        <property name="geonames.output.classes" location="${geonames.output}/classes"/>
        <property name="geonames.output.testclasses" location="${geonames.output}/testclasses"/>

        <property name="googlemaps.src" location="googlemaps/src"/>
        <property name="googlemaps.src.java" location="${googlemaps.src}/java"/>
        <property name="googlemaps.src.test" location="${googlemaps.src}/test"/>
        <property name="googlemaps.output" location="googlemaps/output"/>
        <property name="googlemaps.output.classes" location="${googlemaps.output}/classes"/>
        <property name="googlemaps.output.testclasses" location="${googlemaps.output}/testclasses"/>

        <property name="jaxb6.src" location="jaxb6/src"/>
        <property name="jaxb6.src.java" location="${jaxb6.src}/java"/>
        <property name="jaxb6.output" location="jaxb6/output"/>
        <property name="jaxb6.output.classes" location="${jaxb6.output}/classes"/>

        <property name="jdic-mapview.src" location="jdic-mapview/src"/>
        <property name="jdic-mapview.src.java" location="${jdic-mapview.src}/java"/>
        <property name="jdic-mapview.output" location="jdic-mapview/output"/>
        <property name="jdic-mapview.output.classes" location="${jdic-mapview.output}/classes"/>

        <property name="mapview.src" location="mapview/src"/>
        <property name="mapview.src.java" location="${mapview.src}/java"/>
        <property name="mapview.resources" location="${mapview.src}/resources"/>
        <property name="mapview.output" location="mapview/output"/>
        <property name="mapview.output.classes" location="${mapview.output}/classes"/>

        <property name="navigation-formats.src" location="navigation-formats/src"/>
        <property name="navigation-formats.src.java" location="${navigation-formats.src}/java"/>
        <property name="navigation-formats.src.test" location="${navigation-formats.src}/test"/>
        <property name="navigation-formats.output" location="navigation-formats/output"/>
        <property name="navigation-formats.output.classes" location="${navigation-formats.output}/classes"/>
        <property name="navigation-formats.output.testclasses" location="${navigation-formats.output}/testclasses"/>

        <property name="rest.src" location="rest/src"/>
        <property name="rest.src.java" location="${rest.src}/java"/>
        <property name="rest.output" location="rest/output"/>
        <property name="rest.output.classes" location="${rest.output}/classes"/>
        <property name="rest.output.testclasses" location="${rest.output}/testclasses"/>

        <property name="route-converter.src" location="route-converter/src"/>
        <property name="route-converter.src.java" location="${route-converter.src}/java"/>
        <property name="route-converter.resources" location="${route-converter.src}/resources"/>
        <property name="route-converter.output" location="route-converter/output"/>
        <property name="route-converter.output.classes" location="${route-converter.output}/classes"/>
        <property name="route-converter6.src.java" location="route-converter6/src/java"/>
        <property name="route-converter6.output" location="route-converter6/output"/>
        <property name="route-converter6.output.classes" location="${route-converter6.output}/classes"/>
        <property name="route-converter-cmdline.src" location="route-converter-cmdline/src"/>
        <property name="route-converter-cmdline.java" location="${route-converter-cmdline.src}/java"/>
        <property name="route-converter-cmdline.resources" location="${route-converter-cmdline.src}/resources"/>
        <property name="route-converter-cmdline.output" location="route-converter-cmdline/output"/>

        <property name="swt-mapview.src" location="swt-mapview/src"/>
        <property name="swt-mapview.src.java" location="${swt-mapview.src}/java"/>
        <property name="swt-mapview.output" location="swt-mapview/output"/>
        <property name="swt-mapview.output.classes" location="${swt-mapview.output}/classes"/>

        <property name="apache.commons-codec.lib" location="thirdparty/apache/commons-codec/lib/commons-codec-1.3-stripped.jar"/>
        <property name="apache.commons-httpclient.lib" location="thirdparty/apache/commons-httpclient/lib/commons-httpclient-3.1-stripped.jar"/>
        <property name="apache.commons-logging.lib" location="thirdparty/apache/commons-logging/lib/commons-logging-1.1-stripped.jar"/>
        <property name="djproject.nativeswing.lib" location="thirdparty/djproject/nativeswing/lib/DJNativeSwing-0.9.8-stripped.jar"/>
        <property name="djproject.nativeswing-swt.lib" location="thirdparty/djproject/nativeswing-swt/lib/DJNativeSwing-SWT-0.9.8-stripped.jar"/>
        <property name="eclipse.swt.linux.x86.lib" location="thirdparty/eclipse/swt/lib/swt-3.5-gtk-linux-x86.jar"/>
        <property name="eclipse.swt.linux.x86_64.lib" location="thirdparty/eclipse/swt/lib/swt-3.5-gtk-linux-x86_64.jar"/>
        <property name="eclipse.swt.mac.x86.lib" location="thirdparty/eclipse/swt/lib/swt-3.5-cocoa-macosx.jar"/>
        <property name="eclipse.swt.win32.x86.lib" location="thirdparty/eclipse/swt/lib/swt-3.5-win32-win32-x86-stripped.jar"/>
        <property name="eclipse.swt.win32.x86_64.lib" location="thirdparty/eclipse/swt/lib/swt-3.5-win32-win32-x86_64-stripped.jar"/>
        <property name="intellij.forms.lib" location="thirdparty/intellij/forms-rt/6.0.5/forms-rt-6.0.5-stripped.jar"/>
        <property name="jcommon.jcommon.lib" location="thirdparty/jcommon/jcommon/1.0.16/jcommon-1.0.16-stripped.jar"/>
        <property name="jfreechart.jfreechart.lib" location="thirdparty/jfreechart/jfreechart/1.0.13/jfreechart-1.0.13-stripped.jar"/>
        <property name="junit.junit.lib" location="thirdparty/junit/junit/4.1/junit-4.1.jar"/>
        <property name="sun.activation.lib" location="thirdparty/sun/activation/lib/activation-1.1.jar"/>
        <property name="sun.javaws.lib" location="thirdparty/sun/javaws/jdk6/javaws-jdk6.jar"/>
        <property name="sun.jaxb.api.lib" location="thirdparty/sun/jaxb-api/lib/jaxb-api-2.0.5.jar"/>
        <property name="sun.jaxb.impl.lib" location="thirdparty/sun/jaxb-impl/2.0.5/jaxb-impl-2.0.5.jar"/>
        <property name="sun.jaxb.jdk6.impl.lib" location="thirdparty/sun/jaxb-impl/jdk6/jaxb-impl-jdk6.jar"/>
        <property name="sun.jdic.lib" location="thirdparty/sun/jdic/lib-0.9.3/jdic-0.9.3-stripped.jar"/>
        <property name="sun.jna.lib" location="thirdparty/sun/jna/lib/jna-3.0.7.jar"/>
        <property name="sun.jsr173.api.lib" location="thirdparty/sun/jsr173-api/lib/jsr173-api-1.0.jar"/>
        <property name="sun.jsr173.impl.lib" location="thirdparty/sun/jsr173-impl/lib/jsr173-impl-1.0.jar"/>

        <property name="gpsbabel.bin" location="thirdparty/gpsbabel/gpsbabel/bin-1.3.6"/>
        <property name="sun.jdic.bin" location="thirdparty/sun/jdic/bin-0.9.3"/>

        <property name="jarbundler.jarbundler.lib" location="thirdparty/jarbundler/jarbundler/lib/jarbundler-1.8.1.jar"/>
        <property name="jsmooth.jsmooth.lib" location="thirdparty/jsmooth/jsmooth/lib/jsmoothgen-ant-0.9.9-7.jar"/>

        <path id="catalog.classpath">
            <path refid="navigation-formats.classpath"/>
            <path refid="rest.classpath"/>
            <path location="${catalog.output.classes}"/>
        </path>
        <path id="catalog.testclasspath">
            <path refid="catalog.classpath"/>
            <path refid="navigation-formats.testclasspath"/>
            <path location="${catalog.output.testclasses}"/>
        </path>

        <path id="common.classpath">
            <path location="${common.output.classes}"/>
        </path>
        <path id="common.testclasspath">
            <path location="${junit.junit.lib}"/>
            <path refid="common.classpath"/>
            <path location="${common.output.testclasses}"/>
        </path>

        <path id="common-gui.classpath">
            <path refid="common.classpath"/>
            <path refid="navigation-formats.classpath"/>
            <path location="${common-gui.output.classes}"/>
        </path>

        <path id="elevationview.classpath">
            <path location="${jcommon.jcommon.lib}"/>
            <path location="${jfreechart.jfreechart.lib}"/>
            <path refid="common-gui.classpath"/>
            <path refid="mapview.classpath"/>
            <path refid="navigation-formats.classpath"/>
            <path location="${elevationview.output.classes}"/>
        </path>

        <path id="geonames.classpath">
            <path refid="common.classpath"/>
            <path refid="jaxb6.classpath"/>
            <path refid="rest.classpath"/>
            <path location="${geonames.output.classes}"/>
        </path>
        <path id="geonames.testclasspath">
            <path location="${junit.junit.lib}"/>
            <path refid="geonames.classpath"/>
            <path location="${geonames.output.testclasses}"/>
        </path>

        <path id="googlemaps.classpath">
            <path refid="navigation-formats.classpath"/>
            <path refid="rest.classpath"/>
            <path location="${googlemaps.output.classes}"/>
        </path>
        <path id="googlemaps.testclasspath">
            <path location="${junit.junit.lib}"/>
            <path refid="googlemaps.classpath"/>
            <path location="${googlemaps.output.testclasses}"/>
        </path>

        <path id="jaxb6.classpath">
            <path location="${sun.jaxb.jdk6.impl.lib}"/>
            <path location="${jaxb6.output.classes}"/>
        </path>

        <path id="jdic-mapview.classpath">
            <path location="${sun.javaws.lib}"/>
            <path location="${sun.jdic.lib}"/>
            <path refid="common.classpath"/>
            <path refid="mapview.classpath"/>
            <path location="${jdic-mapview.output.classes}"/>
        </path>

        <path id="mapview.classpath">
            <path refid="common.classpath"/>
            <path refid="navigation-formats.classpath"/>
            <path location="${mapview.output.classes}"/>
        </path>

        <path id="navigation-formats.classpath">
            <path refid="common.classpath"/>
            <path refid="jaxb6.classpath"/>
            <path location="${navigation-formats.output.classes}"/>
        </path>
        <path id="navigation-formats.testclasspath">
            <path refid="navigation-formats.classpath"/>
            <path refid="common.testclasspath"/>
            <path location="${navigation-formats.output.testclasses}"/>
        </path>

        <path id="rest.classpath">
            <path location="${apache.commons-httpclient.lib}"/>
            <path location="${rest.output.classes}"/>
        </path>
        <path id="rest.testclasspath">
            <path refid="rest.classpath"/>
            <path location="${rest.output.testclasses}"/>
        </path>

        <path id="route-converter.classpath">
            <path location="${intellij.forms.lib}"/>
            <path refid="catalog.classpath"/>
            <path refid="common.classpath"/>
            <path refid="common-gui.classpath"/>
            <path refid="elevationview.classpath"/>
            <path refid="geonames.classpath"/>
            <path refid="googlemaps.classpath"/>
            <path refid="navigation-formats.classpath"/>
            <path refid="mapview.classpath"/>
            <path refid="jdic-mapview.classpath"/>
            <path refid="swt-mapview.classpath"/>
            <path location="${route-converter.output.classes}"/>
        </path>

        <path id="swt-mapview.classpath">
            <path location="${djproject.nativeswing.lib}"/>
            <path location="${djproject.nativeswing-swt.lib}"/>
            <path refid="common.classpath"/>
            <path refid="mapview.classpath"/>
            <path location="${swt-mapview.output.classes}"/>
        </path>

        <condition property="java5">
            <equals arg1="${ant.java.version}" arg2="1.5"/>
        </condition>
        <condition property="java6">
            <equals arg1="${ant.java.version}" arg2="1.6"/>
        </condition>
    </target>

    <target name="init5" depends="init">
        <property name="catalog.output.classes5" location="${catalog.output}/classes5"/>
        <property name="catalog.output.testclasses5" location="${catalog.output}/testclasses5"/>
        <property name="common.output.classes5" location="${common.output}/classes5"/>
        <property name="common.output.testclasses5" location="${common.output}/testclasses5"/>
        <property name="common-gui.output.classes5" location="${common-gui.output}/classes5"/>
        <property name="elevationview.output.classes5" location="${elevationview.output}/classes5"/>
        <property name="geonames.output.classes5" location="${geonames.output}/classes5"/>
        <property name="geonames.output.testclasses5" location="${geonames.output}/testclasses5"/>
        <property name="googlemaps.output.classes5" location="${googlemaps.output}/classes5"/>
        <property name="googlemaps.output.testclasses5" location="${googlemaps.output}/testclasses5"/>
        <property name="jaxb5.src.java" location="jaxb5/src/java"/>
        <property name="jaxb5.output" location="jaxb5/output"/>
        <property name="jaxb5.output.classes5" location="${jaxb5.output}/classes5"/>
        <property name="jdic-mapview.output.classes5" location="${jdic-mapview.output}/classes5"/>
        <property name="mapview.output.classes5" location="${mapview.output}/classes5"/>
        <property name="navigation-formats.output.classes5" location="${navigation-formats.output}/classes5"/>
        <property name="navigation-formats.output.testclasses5" location="${navigation-formats.output}/testclasses5"/>
        <property name="rest.output.classes5" location="${rest.output}/classes5"/>
        <property name="rest.output.testclasses5" location="${rest.output}/testclasses5"/>
        <property name="route-converter.output.classes5" location="${route-converter.output}/classes5"/>
        <property name="route-converter5.src.java" location="route-converter5/src/java"/>
        <property name="route-converter5.output" location="route-converter5/output"/>
        <property name="route-converter5.output.classes5" location="${route-converter5.output}/classes5"/>
        <property name="route-converter-cmdline.output.classes5" location="${route-converter-cmdline.output}/classes5"/>
        <property name="swt-mapview.output.classes5" location="${swt-mapview.output}/classes5"/>

        <path id="catalog.classpath5">
            <path refid="navigation-formats.classpath5"/>
            <path refid="rest.classpath5"/>
            <path location="${catalog.output.classes5}"/>
        </path>
        <path id="catalog.testclasspath5">
            <path refid="catalog.classpath5"/>
            <path refid="navigation-formats.testclasspath5"/>
            <path location="${catalog.output.testclasses5}"/>
        </path>

        <path id="common.classpath5">
            <path location="${common.output.classes5}"/>
        </path>
        <path id="common.testclasspath5">
            <path location="${junit.junit.lib}"/>
            <path refid="common.classpath5"/>
            <path location="${common.output.testclasses5}"/>
        </path>

        <path id="common-gui.classpath5">
            <path refid="common.classpath5"/>
            <path refid="navigation-formats.classpath5"/>
            <path location="${common-gui.output.classes5}"/>
        </path>

        <path id="elevationview.classpath5">
            <path location="${jcommon.jcommon.lib}"/>
            <path location="${jfreechart.jfreechart.lib}"/>
            <path refid="common-gui.classpath5"/>
            <path refid="mapview.classpath5"/>
            <path refid="navigation-formats.classpath5"/>
            <path location="${elevationview.output.classes5}"/>
        </path>

        <path id="geonames.classpath5">
            <path refid="common.classpath5"/>
            <path refid="jaxb5.classpath"/>
            <path refid="rest.classpath5"/>
            <path location="${geonames.output.classes5}"/>
        </path>
        <path id="geonames.testclasspath5">
            <path location="${junit.junit.lib}"/>
            <path refid="geonames.classpath5"/>
            <path location="${geonames.output.testclasses5}"/>
        </path>

        <path id="googlemaps.classpath5">
            <path refid="navigation-formats.classpath5"/>
            <path refid="rest.classpath5"/>
            <path location="${googlemaps.output.classes5}"/>
        </path>
        <path id="googlemaps.testclasspath5">
            <path location="${junit.junit.lib}"/>
            <path refid="googlemaps.classpath5"/>
            <path location="${googlemaps.output.testclasses5}"/>
        </path>

        <path id="jaxb5.classpath">
            <path location="${sun.jaxb.api.lib}"/>
            <path location="${sun.jaxb.impl.lib}"/>
            <path location="${sun.jsr173.api.lib}"/>
            <path location="${jaxb5.output.classes5}"/>
        </path>

        <path id="jdic-mapview.classpath5">
            <path location="${sun.javaws.lib}"/>
            <path location="${sun.jdic.lib}"/>
            <path refid="common.classpath5"/>
            <path refid="mapview.classpath5"/>
            <path location="${jdic-mapview.output.classes5}"/>
        </path>

        <path id="mapview.classpath5">
            <path refid="common.classpath5"/>
            <path refid="navigation-formats.classpath5"/>
            <path location="${mapview.output.classes5}"/>
        </path>

        <path id="navigation-formats.classpath5">
            <path refid="common.classpath5"/>
            <path refid="jaxb5.classpath"/>
            <path location="${navigation-formats.output.classes5}"/>
        </path>
        <path id="navigation-formats.testclasspath5">
            <path location="${sun.activation.lib}"/>
            <path location="${sun.jsr173.impl.lib}"/>
            <path refid="navigation-formats.classpath5"/>
            <path refid="common.testclasspath5"/>
            <path location="${navigation-formats.output.testclasses5}"/>
        </path>

        <path id="rest.classpath5">
            <path location="${apache.commons-httpclient.lib}"/>
            <path location="${rest.output.classes5}"/>
        </path>
        <path id="rest.testclasspath5">
            <path location="${rest.output.testclasses5}"/>
        </path>

        <path id="route-converter.classpath5">
            <path location="${intellij.forms.lib}"/>
            <path refid="catalog.classpath5"/>
            <path refid="common.classpath5"/>
            <path refid="common-gui.classpath5"/>
            <path refid="elevationview.classpath5"/>
            <path refid="geonames.classpath5"/>
            <path refid="googlemaps.classpath5"/>
            <path refid="navigation-formats.classpath5"/>
            <path refid="mapview.classpath5"/>
            <path refid="jdic-mapview.classpath5"/>
            <path refid="swt-mapview.classpath5"/>
            <path location="${route-converter.output.classes5}"/>
        </path>

        <path id="route-converter-cmdline.classpath5">
            <path refid="common.classpath5"/>
            <path refid="navigation-formats.classpath5"/>
            <path location="${route-converter-cmdline.output.classes5}"/>
        </path>

        <path id="swt-mapview.classpath5">
            <path location="${djproject.nativeswing.lib}"/>
            <path location="${djproject.nativeswing-swt.lib}"/>
            <path refid="common.classpath5"/>
            <path refid="mapview.classpath5"/>
            <path location="${swt-mapview.output.classes5}"/>
        </path>
    </target>

    <target name="copy-native" depends="init">
        <mkdir dir="${build.output.tmp-linux}/bin"/>
        <copy todir="${build.output.tmp-linux}/bin">
            <fileset dir="${gpsbabel.bin}">
                <include name="linux/**"/>
            </fileset>
        </copy>

        <mkdir dir="${build.output.tmp-mac}/bin"/>
        <copy todir="${build.output.tmp-mac}/bin">
            <fileset dir="${gpsbabel.bin}">
                <include name="mac_os_x/**"/>
            </fileset>
        </copy>

        <mkdir dir="${build.output.tmp-windows}/bin"/>
        <copy todir="${build.output.tmp-windows}/bin">
            <fileset dir="${gpsbabel.bin}">
                <include name="windows/**"/>
            </fileset>
        </copy>

        <mkdir dir="${build.output.tmp-jdic-linux}/bin"/>
        <copy todir="${build.output.tmp-jdic-linux}/bin">
            <fileset dir="${sun.jdic.bin}">
                <include name="linux/**"/>
            </fileset>
        </copy>

        <mkdir dir="${build.output.tmp-jdic-mac}/bin"/>
        <copy todir="${build.output.tmp-jdic-mac}/bin">
            <fileset dir="${sun.jdic.bin}">
                <include name="mac_os_x/**"/>
            </fileset>
        </copy>

        <mkdir dir="${build.output.tmp-jdic-windows}/bin"/>
        <copy todir="${build.output.tmp-jdic-windows}/bin">
            <fileset dir="${sun.jdic.bin}">
                <include name="windows/**"/>
            </fileset>
        </copy>
    </target>

    <target name="unjar-jars" depends="init">
        <mkdir dir="${build.output.tmp-thirdparty}"/>
        <unjar src="${apache.commons-codec.lib}" dest="${build.output.tmp-thirdparty}" overwrite="false">
            <patternset>
                <include name="**/*.class"/>
            </patternset>
        </unjar>
        <unjar src="${apache.commons-httpclient.lib}" dest="${build.output.tmp-thirdparty}" overwrite="false">
            <patternset>
                <include name="**/*.class"/>
            </patternset>
        </unjar>
        <unjar src="${apache.commons-logging.lib}" dest="${build.output.tmp-thirdparty}" overwrite="false">
            <patternset>
                <include name="**/*.class"/>
            </patternset>
        </unjar>
        <unjar src="${intellij.forms.lib}" dest="${build.output.tmp-thirdparty}" overwrite="false">
            <patternset>
                <include name="**/*.class"/>
            </patternset>
        </unjar>
        <unjar src="${jcommon.jcommon.lib}" dest="${build.output.tmp-thirdparty}" overwrite="false">
            <patternset>
                <include name="**/*.class"/>
            </patternset>
        </unjar>
        <unjar src="${jfreechart.jfreechart.lib}" dest="${build.output.tmp-thirdparty}" overwrite="false">
            <patternset>
                <include name="**/*.class"/>
                <include name="**/LocalizationBundle.properties"/>
                <include name="**/org/jfree/chart/LocalizationBundle_de.properties"/>
                <include name="**/org/jfree/chart/LocalizationBundle_fr.properties"/>
                <include name="**/org/jfree/chart/LocalizationBundle_nl.properties"/>
            </patternset>
        </unjar>

        <mkdir dir="${build.output.tmp-jdic}"/>
        <unjar src="${sun.jdic.lib}" dest="${build.output.tmp-jdic}" overwrite="false">
            <patternset>
                <include name="**/*.class"/>
            </patternset>
        </unjar>

        <mkdir dir="${build.output.tmp-swt-linux}"/>
        <unjar src="${eclipse.swt.linux.x86.lib}" dest="${build.output.tmp-swt-linux}" overwrite="false">
            <patternset>
                <include name="**/*.class"/>
                <include name="**/*.properties"/>
                <include name="**/*.so"/>
            </patternset>
        </unjar>

        <mkdir dir="${build.output.tmp-swt-linux64}"/>
        <unjar src="${eclipse.swt.linux.x86_64.lib}" dest="${build.output.tmp-swt-linux64}" overwrite="false">
            <patternset>
                <include name="**/*.class"/>
                <include name="**/*.properties"/>
                <include name="**/*.so"/>
            </patternset>
        </unjar>

        <mkdir dir="${build.output.tmp-swt-mac}"/>
        <unjar src="${eclipse.swt.mac.x86.lib}" dest="${build.output.tmp-swt-mac}" overwrite="false">
            <patternset>
                <include name="**/*.class"/>
                <include name="**/*.jnilib"/>
            </patternset>
        </unjar>

        <mkdir dir="${build.output.tmp-swt-windows}"/>
        <unjar src="${eclipse.swt.win32.x86.lib}" dest="${build.output.tmp-swt-windows}" overwrite="false">
            <patternset>
                <include name="**/*.class"/>
                <include name="**/*.dll"/>
            </patternset>
        </unjar>

        <mkdir dir="${build.output.tmp-swt-windows64}"/>
        <unjar src="${eclipse.swt.win32.x86_64.lib}" dest="${build.output.tmp-swt-windows64}" overwrite="false">
            <patternset>
                <include name="**/*.class"/>
                <include name="**/*.dll"/>
            </patternset>
        </unjar>

        <mkdir dir="${build.output.tmp-djproject}"/>
        <unjar src="${djproject.nativeswing.lib}" dest="${build.output.tmp-djproject}" overwrite="false">
            <patternset>
                <include name="**/*.class"/>
            </patternset>
        </unjar>
        <unjar src="${djproject.nativeswing-swt.lib}" dest="${build.output.tmp-djproject}" overwrite="false">
            <patternset>
                <include name="**/*.class"/>
                <include name="**/*.gif"/>
                <include name="**/WebBrowser.properties"/>
            </patternset>
        </unjar>
    </target>

    <target name="unjar-jars5" depends="init">
        <mkdir dir="${build.output.tmp-thirdparty5}"/>
        <unjar src="${sun.activation.lib}" dest="${build.output.tmp-thirdparty5}" overwrite="false">
            <patternset>
                <include name="**/*.class"/>
            </patternset>
        </unjar>
        <unjar src="${sun.jaxb.api.lib}" dest="${build.output.tmp-thirdparty5}" overwrite="false">
            <patternset>
                <include name="**/*.class"/>
                <include name="**/*.properties"/>
            </patternset>
        </unjar>
        <unjar src="${sun.jaxb.impl.lib}" dest="${build.output.tmp-thirdparty5}" overwrite="false">
            <patternset>
                <include name="**/*.class"/>
                <include name="**/*.properties"/>
            </patternset>
        </unjar>
        <unjar src="${sun.jsr173.api.lib}" dest="${build.output.tmp-thirdparty5}" overwrite="false">
            <patternset>
                <include name="**/*.class"/>
            </patternset>
        </unjar>
        <unjar src="${sun.jsr173.impl.lib}" dest="${build.output.tmp-thirdparty5}" overwrite="false">
            <patternset>
                <include name="**/*.class"/>
            </patternset>
        </unjar>

        <mkdir dir="${build.output.tmp-jna}"/>
        <unjar src="${sun.jna.lib}" dest="${build.output.tmp-jna}" overwrite="false">
            <patternset>
                <include name="**/*.class"/>
                <include name="**/*.so"/>
            </patternset>
        </unjar>
    </target>

    <target name="idea" depends="idea6,idea5"/>

    <target name="idea6" depends="init">
        <mkdir dir="${navigation-formats.output.classes}/bin"/>
        <copy todir="${navigation-formats.output.classes}/bin">
            <fileset dir="${gpsbabel.bin}">
                <include name="windows/**"/>
            </fileset>
        </copy>
        <mkdir dir="${jdic-mapview.output.classes}/bin"/>
        <copy todir="${jdic-mapview.output.classes}/bin">
            <fileset dir="${sun.jdic.bin}">
                <include name="windows/**"/>
            </fileset>
        </copy>
    </target>

    <target name="idea5" depends="init5">
        <mkdir dir="${navigation-formats.output.classes5}/bin"/>
        <copy todir="${navigation-formats.output.classes5}/bin">
            <fileset dir="${gpsbabel.bin}">
                <include name="windows/**"/>
            </fileset>
        </copy>
        <mkdir dir="${jdic-mapview.output.classes5}/bin"/>
        <copy todir="${jdic-mapview.output.classes5}/bin">
            <fileset dir="${sun.jdic.bin}">
                <include name="windows/**"/>
            </fileset>
        </copy>
    </target>

    <target name="copy-resources" depends="init,copy-native,unjar-jars">
        <mkdir dir="${common.output.classes}"/>
        <copy todir="${common.output.classes}">
            <fileset dir="${common.resources}">
                <include name="**/*.properties"/>
            </fileset>
        </copy>
        <mkdir dir="${mapview.output.classes}"/>
        <copy todir="${mapview.output.classes}">
            <fileset dir="${mapview.resources}">
                <include name="**/*.html"/>
            </fileset>
        </copy>
        <mkdir dir="${route-converter.output.classes}"/>
        <copy todir="${route-converter.output.classes}">
            <fileset dir="${route-converter.resources}">
                <include name="**/*.png"/>
                <include name="**/*.properties"/>
            </fileset>
        </copy>
    </target>

    <target name="copy-resources5" depends="init5,copy-native,unjar-jars,unjar-jars5">
        <mkdir dir="${common.output.classes5}"/>
        <copy todir="${common.output.classes5}">
            <fileset dir="${common.resources}">
                <include name="**/*.properties"/>
            </fileset>
        </copy>
        <mkdir dir="${mapview.output.classes5}"/>
        <copy todir="${mapview.output.classes5}">
            <fileset dir="${mapview.resources}">
                <include name="**/*.html"/>
            </fileset>
        </copy>
        <mkdir dir="${route-converter.output.classes5}"/>
        <copy todir="${route-converter.output.classes5}">
            <fileset dir="${route-converter.resources}">
                <include name="**/*.png"/>
                <include name="**/*.properties"/>
            </fileset>
        </copy>
        <mkdir dir="${route-converter-cmdline.output.classes5}"/>
        <copy todir="${route-converter-cmdline.output.classes5}">
            <fileset dir="${route-converter-cmdline.resources}">
                <include name="**/*.properties"/>
            </fileset>
        </copy>
    </target>

    <!-- Compiles all java classes -->
    <target name="compile" depends="init,copy-resources">
        <fail message="Need to Java 6 to compile.">
            <condition>
                <not>
                    <isset property="java6"/>
                </not>
            </condition>
        </fail>

        <mkdir dir="${common.output.classes}"/>
        <javac destdir="${common.output.classes}" debug="${javac.debug}">
            <src location="${common.src.java}"/>
            <classpath refid="common.classpath"/>
        </javac>

        <mkdir dir="${jaxb6.output.classes}"/>
        <javac destdir="${jaxb6.output.classes}" debug="${javac.debug}">
            <src location="${jaxb6.src.java}"/>
            <classpath refid="jaxb6.classpath"/>
        </javac>

        <mkdir dir="${navigation-formats.output.classes}"/>
        <javac destdir="${navigation-formats.output.classes}" debug="${javac.debug}">
            <src location="${navigation-formats.src.java}"/>
            <classpath refid="navigation-formats.classpath"/>
        </javac>

        <mkdir dir="${mapview.output.classes}"/>
        <javac destdir="${mapview.output.classes}" debug="${javac.debug}">
            <src location="${mapview.src.java}"/>
            <classpath refid="mapview.classpath"/>
        </javac>

        <mkdir dir="${jdic-mapview.output.classes}"/>
        <javac destdir="${jdic-mapview.output.classes}" debug="${javac.debug}">
            <src location="${jdic-mapview.src.java}"/>
            <classpath refid="jdic-mapview.classpath"/>
        </javac>

        <mkdir dir="${swt-mapview.output.classes}"/>
        <javac destdir="${swt-mapview.output.classes}" debug="${javac.debug}">
            <src location="${swt-mapview.src.java}"/>
            <classpath refid="swt-mapview.classpath"/>
        </javac>

        <mkdir dir="${rest.output.classes}"/>
        <javac destdir="${rest.output.classes}" debug="${javac.debug}">
            <src location="${rest.src.java}"/>
            <classpath refid="rest.classpath"/>
        </javac>

        <mkdir dir="${catalog.output.classes}"/>
        <javac destdir="${catalog.output.classes}" debug="${javac.debug}">
            <src location="${catalog.src.java}"/>
            <classpath refid="catalog.classpath"/>
        </javac>

        <mkdir dir="${geonames.output.classes}"/>
        <javac destdir="${geonames.output.classes}" debug="${javac.debug}">
            <src location="${geonames.src.java}"/>
            <classpath refid="geonames.classpath"/>
        </javac>

        <mkdir dir="${googlemaps.output.classes}"/>
        <javac destdir="${googlemaps.output.classes}" debug="${javac.debug}">
            <src location="${googlemaps.src.java}"/>
            <classpath refid="googlemaps.classpath"/>
        </javac>

        <mkdir dir="${common-gui.output.classes}"/>
        <javac destdir="${common-gui.output.classes}" debug="${javac.debug}">
            <src location="${common-gui.src.java}"/>
            <classpath refid="common-gui.classpath"/>
        </javac>

        <mkdir dir="${elevationview.output.classes}"/>
        <javac destdir="${elevationview.output.classes}" debug="${javac.debug}">
            <src location="${elevationview.src.java}"/>
            <classpath refid="elevationview.classpath"/>
        </javac>

        <mkdir dir="${route-converter.output.classes}"/>
        <javac destdir="${route-converter.output.classes}" debug="${javac.debug}">
            <src location="${route-converter.src.java}"/>
            <classpath refid="route-converter.classpath"/>
        </javac>

        <mkdir dir="${route-converter6.output.classes}"/>
        <javac destdir="${route-converter6.output.classes}" debug="${javac.debug}">
            <src location="${route-converter6.src.java}"/>
            <classpath refid="route-converter.classpath"/>
        </javac>
    </target>

    <target name="compile-test" depends="compile">
        <mkdir dir="${common.output.testclasses}"/>
        <javac destdir="${common.output.testclasses}" debug="${javac.debug}">
            <src location="${common.src.test}"/>
            <classpath refid="common.testclasspath"/>
        </javac>

        <mkdir dir="${navigation-formats.output.testclasses}"/>
        <javac destdir="${navigation-formats.output.testclasses}" debug="${javac.debug}">
            <src location="${navigation-formats.src.test}"/>
            <classpath refid="navigation-formats.testclasspath"/>
        </javac>

        <mkdir dir="${catalog.output.testclasses}"/>
        <javac destdir="${catalog.output.testclasses}" debug="${javac.debug}">
            <src location="${catalog.src.test}"/>
            <classpath refid="catalog.testclasspath"/>
        </javac>

       <mkdir dir="${geonames.output.testclasses}"/>
        <javac destdir="${geonames.output.testclasses}" debug="${javac.debug}">
            <src location="${geonames.src.test}"/>
            <classpath refid="geonames.testclasspath"/>
        </javac>

         <mkdir dir="${googlemaps.output.testclasses}"/>
        <javac destdir="${googlemaps.output.testclasses}" debug="${javac.debug}">
            <src location="${googlemaps.src.test}"/>
            <classpath refid="googlemaps.testclasspath"/>
        </javac>
    </target>

    <target name="compile5" depends="init5,copy-resources5">
        <fail message="Compiling Java 5 code on Java 6.">
            <condition>
                <isset property="java6"/>
            </condition>
        </fail>
        <fail message="Need to Java 5 to compile.">
            <condition>
                <not>
                    <isset property="java5"/>
                </not>
            </condition>
        </fail>

        <mkdir dir="${common.output.classes5}"/>
        <javac destdir="${common.output.classes5}" source="1.5" target="1.5" debug="${javac.debug}">
            <src location="${common.src.java}"/>
            <classpath refid="common.classpath5"/>
        </javac>

        <mkdir dir="${jaxb5.output.classes5}"/>
        <javac destdir="${jaxb5.output.classes5}" source="1.5" target="1.5" debug="${javac.debug}">
            <src location="${jaxb5.src.java}"/>
            <classpath refid="jaxb5.classpath"/>
        </javac>

        <mkdir dir="${navigation-formats.output.classes5}"/>
        <javac destdir="${navigation-formats.output.classes5}" source="1.5" target="1.5" debug="${javac.debug}">
            <src location="${navigation-formats.src.java}"/>
            <classpath refid="navigation-formats.classpath5"/>
        </javac>

        <mkdir dir="${mapview.output.classes5}"/>
        <javac destdir="${mapview.output.classes5}" source="1.5" target="1.5" debug="${javac.debug}">
            <src location="${mapview.src.java}"/>
            <classpath refid="mapview.classpath5"/>
        </javac>

        <mkdir dir="${jdic-mapview.output.classes5}"/>
        <javac destdir="${jdic-mapview.output.classes5}" source="1.5" target="1.5" debug="${javac.debug}">
            <src location="${jdic-mapview.src.java}"/>
            <classpath refid="jdic-mapview.classpath5"/>
        </javac>

        <mkdir dir="${swt-mapview.output.classes5}"/>
        <javac destdir="${swt-mapview.output.classes5}" source="1.5" target="1.5" debug="${javac.debug}">
            <src location="${swt-mapview.src.java}"/>
            <classpath refid="swt-mapview.classpath5"/>
        </javac>

        <mkdir dir="${rest.output.classes5}"/>
        <javac destdir="${rest.output.classes5}" source="1.5" target="1.5" debug="${javac.debug}">
            <src location="${rest.src.java}"/>
            <classpath refid="rest.classpath5"/>
        </javac>

        <mkdir dir="${catalog.output.classes5}"/>
        <javac destdir="${catalog.output.classes5}" source="1.5" target="1.5" debug="${javac.debug}">
            <src location="${catalog.src.java}"/>
            <classpath refid="catalog.classpath5"/>
        </javac>

        <mkdir dir="${geonames.output.classes5}"/>
        <javac destdir="${geonames.output.classes5}" source="1.5" target="1.5" debug="${javac.debug}">
            <src location="${geonames.src.java}"/>
            <classpath refid="geonames.classpath5"/>
        </javac>

        <mkdir dir="${googlemaps.output.classes5}"/>
        <javac destdir="${googlemaps.output.classes5}" source="1.5" target="1.5" debug="${javac.debug}">
            <src location="${googlemaps.src.java}"/>
            <classpath refid="googlemaps.classpath5"/>
        </javac>

        <mkdir dir="${common-gui.output.classes5}"/>
        <javac destdir="${common-gui.output.classes5}" source="1.5" target="1.5" debug="${javac.debug}">
            <src location="${common-gui.src.java}"/>
            <classpath refid="common-gui.classpath5"/>
        </javac>

        <mkdir dir="${elevationview.output.classes5}"/>
        <javac destdir="${elevationview.output.classes5}" source="1.5" target="1.5" debug="${javac.debug}">
            <src location="${elevationview.src.java}"/>
            <classpath refid="elevationview.classpath5"/>
        </javac>

        <mkdir dir="${route-converter.output.classes5}"/>
        <javac destdir="${route-converter.output.classes5}" source="1.5" target="1.5" debug="${javac.debug}">
            <src location="${route-converter.src.java}"/>
            <classpath refid="route-converter.classpath5"/>
        </javac>

        <mkdir dir="${route-converter5.output.classes5}"/>
        <javac destdir="${route-converter5.output.classes5}" debug="${javac.debug}">
            <src location="${route-converter5.src.java}"/>
            <classpath refid="route-converter.classpath5"/>
        </javac>

        <mkdir dir="${route-converter-cmdline.output.classes5}"/>
        <javac destdir="${route-converter-cmdline.output.classes5}" source="1.5" target="1.5" debug="${javac.debug}">
            <src location="${route-converter-cmdline.java}"/>
            <classpath refid="route-converter-cmdline.classpath5"/>
        </javac>
    </target>

    <target name="compile-test5" depends="compile5">
        <mkdir dir="${common.output.testclasses5}"/>
        <javac destdir="${common.output.testclasses5}" source="1.5" target="1.5" debug="${javac.debug}">
            <src location="${common.src.test}"/>
            <classpath refid="common.testclasspath5"/>
        </javac>

        <mkdir dir="${navigation-formats.output.testclasses5}"/>
        <javac destdir="${navigation-formats.output.testclasses5}" source="1.5" target="1.5" debug="${javac.debug}">
            <src location="${navigation-formats.src.test}"/>
            <classpath refid="navigation-formats.testclasspath5"/>
        </javac>

        <mkdir dir="${catalog.output.testclasses5}"/>
        <javac destdir="${catalog.output.testclasses5}" source="1.5" target="1.5" debug="${javac.debug}">
            <src location="${catalog.src.test}"/>
            <classpath refid="catalog.testclasspath5"/>
        </javac>

        <mkdir dir="${geonames.output.testclasses5}"/>
        <javac destdir="${geonames.output.testclasses5}" source="1.5" target="1.5" debug="${javac.debug}">
            <src location="${geonames.src.test}"/>
            <classpath refid="geonames.testclasspath5"/>
        </javac>

        <mkdir dir="${googlemaps.output.testclasses5}"/>
        <javac destdir="${googlemaps.output.testclasses5}" source="1.5" target="1.5" debug="${javac.debug}">
            <src location="${googlemaps.src.test}"/>
            <classpath refid="googlemaps.testclasspath5"/>
        </javac>
    </target>

    <target name="test" depends="compile, compile-test">
        <mkdir dir="${build.test.dir}"/>

        <junit fork="yes" haltonfailure="yes">
            <batchtest fork="yes" todir="${build.test.dir}">
                <fileset dir="${common.src.test}">
                    <include name="**/*Test*.java"/>
                    <exclude name="**/*TestCase.java"/>
                </fileset>
            </batchtest>
            <formatter type="plain" usefile="false"/>
            <classpath refid="common.testclasspath"/>
        </junit>

        <junit fork="yes" haltonfailure="yes">
            <batchtest fork="yes" todir="${build.test.dir}">
                <fileset dir="${navigation-formats.src.test}">
                    <include name="**/*Test*.java"/>
                    <exclude name="**/*TestCase.java"/>
                </fileset>
            </batchtest>
            <formatter type="plain" usefile="false"/>
            <classpath refid="navigation-formats.testclasspath"/>
        </junit>

        <junit fork="yes" haltonfailure="yes">
            <batchtest fork="yes" todir="${build.test.dir}">
                <fileset dir="${catalog.src.test}">
                    <include name="**/*Test*.java"/>
                    <exclude name="**/*TestCase.java"/>
                </fileset>
            </batchtest>
            <formatter type="plain" usefile="false"/>
            <classpath refid="catalog.testclasspath"/>
        </junit>

        <junit fork="yes" haltonfailure="yes">
            <batchtest fork="yes" todir="${build.test.dir}">
                <fileset dir="${geonames.src.test}">
                    <include name="**/*Test*.java"/>
                    <exclude name="**/*TestCase.java"/>
                </fileset>
            </batchtest>
            <formatter type="plain" usefile="false"/>
            <classpath refid="geonames.testclasspath"/>
        </junit>

        <junit fork="yes" haltonfailure="yes">
            <batchtest fork="yes" todir="${build.test.dir}">
                <fileset dir="${googlemaps.src.test}">
                    <include name="**/*Test*.java"/>
                    <exclude name="**/*TestCase.java"/>
                </fileset>
            </batchtest>
            <formatter type="plain" usefile="false"/>
            <classpath refid="googlemaps.testclasspath"/>
        </junit>
    </target>

    <target name="test5" depends="compile5, compile-test5">
        <mkdir dir="${build.test.dir5}"/>

        <junit fork="yes" haltonfailure="yes">
            <batchtest fork="yes" todir="${build.test.dir5}">
                <fileset dir="${common.src.test}">
                    <include name="**/*Test*.java"/>
                    <exclude name="**/*TestCase.java"/>
                </fileset>
            </batchtest>
            <formatter type="plain" usefile="false"/>
            <classpath refid="common.testclasspath5"/>
        </junit>

        <junit fork="yes" haltonfailure="yes">
            <batchtest fork="yes" todir="${build.test.dir5}">
                <fileset dir="${navigation-formats.src.test}">
                    <include name="**/*Test*.java"/>
                    <exclude name="**/*TestCase.java"/>
                </fileset>
            </batchtest>
            <formatter type="plain" usefile="false"/>
            <classpath refid="navigation-formats.testclasspath5"/>
        </junit>

        <junit fork="yes" haltonfailure="yes">
            <batchtest fork="yes" todir="${build.test.dir5}">
                <fileset dir="${catalog.src.test}">
                    <include name="**/*Test*.java"/>
                    <exclude name="**/*TestCase.java"/>
                </fileset>
            </batchtest>
            <formatter type="plain" usefile="false"/>
            <classpath refid="catalog.testclasspath5"/>
        </junit>

        <junit fork="yes" haltonfailure="yes">
            <batchtest fork="yes" todir="${build.test.dir5}">
                <fileset dir="${geonames.src.test}">
                    <include name="**/*Test*.java"/>
                    <exclude name="**/*TestCase.java"/>
                </fileset>
            </batchtest>
            <formatter type="plain" usefile="false"/>
            <classpath refid="geonames.testclasspath5"/>
        </junit>

        <junit fork="yes" haltonfailure="yes">
            <batchtest fork="yes" todir="${build.test.dir5}">
                <fileset dir="${googlemaps.src.test}">
                    <include name="**/*Test*.java"/>
                    <exclude name="**/*TestCase.java"/>
                </fileset>
            </batchtest>
            <formatter type="plain" usefile="false"/>
            <classpath refid="googlemaps.testclasspath5"/>
        </junit>
    </target>

    <target name="javadoc" depends="init">
        <delete dir="${build.output.javadoc}"/>
        <mkdir dir="${build.output.javadoc}"/>

        <property name="javadoc.title" value="RouteConverter ${build.version} API"/>
        <javadoc destdir="${build.output.javadoc}" use="true" useexternalfile="true" 
                 windowtitle="${javadoc.title}" classpathref="navigation-formats.classpath">
            <doctitle>${javadoc.title}</doctitle>
            <bottom>Created by Christian Pesch</bottom>

            <fileset dir="${common.src.java}"/>
            <fileset dir="${jaxb6.src.java}"/>
            <fileset dir="${navigation-formats.src.java}"/>

            <group title="Core">
                <package name="slash.navigation*"/>
            </group>

            <group title="Formats">
                <package name="slash.navigation.*"/>
            </group>

            <group title="Utilities">
                <package name="slash.common.hex*"/>
                <package name="slash.common.log*"/>
                <package name="slash.common.util*"/>
                <package name="slash.navigation.jaxb*"/>
                <package name="slash.navigation.util*"/>
            </group>

            <link href="http://java.sun.com/javase/6/docs/api/"/>
            <link href="http://jakarta.apache.org/commons/logging/apidocs/"/>
        </javadoc>

        <copy todir="${build.output.javadoc}">
            <fileset file="${license}"/>
        </copy>
    </target>

    <target name="source" depends="init">
        <delete dir="${build.output.src}"/>
        <mkdir dir="${build.output.src}"/>

        <copy todir="${build.output.src}">
            <fileset dir="${catalog.src.java}"/>
            <fileset dir="${common.src.java}"/>
            <fileset dir="${common-gui.src.java}"/>
            <fileset dir="${elevationview.src.java}"/>
            <fileset dir="${geonames.src.java}"/>
            <fileset dir="${googlemaps.src.java}"/>
            <fileset dir="${jaxb6.src.java}"/>
            <fileset dir="${jdic-mapview.src.java}"/>
            <fileset dir="${mapview.src.java}"/>
            <fileset dir="${navigation-formats.src.java}"/>
            <fileset dir="${rest.src.java}"/>
            <fileset dir="${route-converter.src.java}"/>
            <fileset dir="${route-converter6.src.java}"/>
            <fileset dir="${swt-mapview.src.java}"/>
            <fileset file="${license}"/>
        </copy>
    </target>

    <target name="prepare-jar">
        <mkdir dir="${build.output}"/>
        <buildnumber file="build/build.number"/>
        <tstamp>
            <format property="today" pattern="dd-MM-yyyy HH:mm:ss"/>
        </tstamp>
    </target>

    <target name="prepare-tmp">
        <mkdir dir="${build.output}"/>
        <buildnumber file="build/build.number"/>
        <tstamp>
            <format property="today" pattern="dd-MM-yyyy HH:mm:ss"/>
        </tstamp>
    </target>

    <!-- Jars all classes and resources -->
    <target name="jar" depends="init,compile,prepare-jar">
        <jar destfile="${build.output}/RouteConverterJDIC.jar">
            <fileset dir="${build.output.tmp-thirdparty}"/>
            <fileset dir="${build.output.tmp-windows}"/>
            <fileset dir="${build.output.tmp-jdic}"/>
            <fileset dir="${build.output.tmp-jdic-windows}"/>
            <fileset dir="${catalog.output.classes}"/>
            <fileset dir="${common.output.classes}"/>
            <fileset dir="${common-gui.output.classes}"/>
            <fileset dir="${elevationview.output.classes}"/>
            <fileset dir="${geonames.output.classes}"/>
            <fileset dir="${googlemaps.output.classes}"/>
            <fileset dir="${jaxb6.output.classes}"/>
            <fileset dir="${jdic-mapview.output.classes}">
                <exclude name="**/*.dll"/>
                <exclude name="**/*.exe"/>
            </fileset>
            <fileset dir="${mapview.output.classes}"/>
            <fileset dir="${navigation-formats.output.classes}">
                <exclude name="**/*.dll"/>
                <exclude name="**/*.exe"/>
                <exclude name="**/*.html"/>
            </fileset>
            <fileset dir="${rest.output.classes}"/>
            <fileset dir="${route-converter.output.classes}"/>
            <fileset dir="${route-converter6.output.classes}"/>
            <fileset file="${license}"/>
            <manifest>
                <attribute name="Created-By" value="Christian Pesch"/>
                <attribute name="Download-At" value="http://www.routeconverter.de"/>
                <attribute name="Main-Class" value="slash.navigation.converter.gui.RouteConverter6"/>
                <attribute name="SplashScreen-Image" value="slash/navigation/converter/gui/RouteConverter.png"/>
                <attribute name="Version" value="${build.version}"/>
                <attribute name="Build-Number" value="${build.number}"/>
                <attribute name="Build-Date" value="${today}"/>
            </manifest>
        </jar>

        <jar destfile="${build.output}/RouteConverter.jar">
            <fileset dir="${build.output.tmp-thirdparty}"/>
            <fileset dir="${build.output.tmp-windows}"/>
            <fileset dir="${build.output.tmp-djproject}"/>
            <fileset dir="${build.output.tmp-swt-windows}"/>
            <fileset dir="${catalog.output.classes}"/>
            <fileset dir="${common.output.classes}"/>
            <fileset dir="${common-gui.output.classes}"/>
            <fileset dir="${elevationview.output.classes}"/>
            <fileset dir="${geonames.output.classes}"/>
            <fileset dir="${googlemaps.output.classes}"/>
            <fileset dir="${jaxb6.output.classes}"/>
            <fileset dir="${mapview.output.classes}"/>
            <fileset dir="${navigation-formats.output.classes}">
                <exclude name="**/*.dll"/>
                <exclude name="**/*.exe"/>
                <exclude name="**/*.html"/>
            </fileset>
            <fileset dir="${rest.output.classes}"/>
            <fileset dir="${route-converter.output.classes}"/>
            <fileset dir="${route-converter6.output.classes}"/>
            <fileset dir="${swt-mapview.output.classes}"/>
            <fileset file="${license}"/>
            <manifest>
                <attribute name="Created-By" value="Christian Pesch"/>
                <attribute name="Download-At" value="http://www.routeconverter.de"/>
                <attribute name="Main-Class" value="slash.navigation.converter.gui.RouteConverter6"/>
                <attribute name="SplashScreen-Image" value="slash/navigation/converter/gui/RouteConverter.png"/>
                <attribute name="Version" value="${build.version}"/>
                <attribute name="Build-Number" value="${build.number}"/>
                <attribute name="Build-Date" value="${today}"/>
            </manifest>
        </jar>

        <jar destfile="${build.output}/RouteConverter64.jar">
            <fileset dir="${build.output.tmp-thirdparty}"/>
            <fileset dir="${build.output.tmp-windows}"/>
            <fileset dir="${build.output.tmp-djproject}"/>
            <fileset dir="${build.output.tmp-swt-windows64}"/>
            <fileset dir="${catalog.output.classes}"/>
            <fileset dir="${common.output.classes}"/>
            <fileset dir="${common-gui.output.classes}"/>
            <fileset dir="${elevationview.output.classes}"/>
            <fileset dir="${geonames.output.classes}"/>
            <fileset dir="${googlemaps.output.classes}"/>
            <fileset dir="${jaxb6.output.classes}"/>
            <fileset dir="${mapview.output.classes}"/>
            <fileset dir="${navigation-formats.output.classes}">
                <exclude name="**/*.dll"/>
                <exclude name="**/*.exe"/>
                <exclude name="**/*.html"/>
            </fileset>
            <fileset dir="${rest.output.classes}"/>
            <fileset dir="${route-converter.output.classes}"/>
            <fileset dir="${route-converter6.output.classes}"/>
            <fileset dir="${swt-mapview.output.classes}"/>
            <fileset file="${license}"/>
            <manifest>
                <attribute name="Created-By" value="Christian Pesch"/>
                <attribute name="Download-At" value="http://www.routeconverter.de"/>
                <attribute name="Main-Class" value="slash.navigation.converter.gui.RouteConverter6"/>
                <attribute name="SplashScreen-Image" value="slash/navigation/converter/gui/RouteConverter.png"/>
                <attribute name="Version" value="${build.version}"/>
                <attribute name="Build-Number" value="${build.number}"/>
                <attribute name="Build-Date" value="${today}"/>
            </manifest>
        </jar>
    </target>

    <target name="jar5" depends="init5,compile5,prepare-jar">
        <jar destfile="${build.output}/RouteConverterLinuxJDIC.jar">
            <fileset dir="${build.output.tmp-thirdparty}"/>
            <fileset dir="${build.output.tmp-thirdparty5}"/>
            <fileset dir="${build.output.tmp-linux}"/>
            <fileset dir="${build.output.tmp-jdic}"/>
            <fileset dir="${build.output.tmp-jdic-linux}"/>
            <fileset dir="${catalog.output.classes5}"/>
            <fileset dir="${common.output.classes5}"/>
            <fileset dir="${common-gui.output.classes5}"/>
            <fileset dir="${elevationview.output.classes5}"/>
            <fileset dir="${geonames.output.classes5}"/>
            <fileset dir="${googlemaps.output.classes5}"/>
            <fileset dir="${jaxb5.output.classes5}"/>
            <fileset dir="${jdic-mapview.output.classes5}">
                <exclude name="**/*.dll"/>
                <exclude name="**/*.exe"/>
            </fileset>
            <fileset dir="${mapview.output.classes5}"/>
            <fileset dir="${navigation-formats.output.classes5}">
                <exclude name="**/*.dll"/>
                <exclude name="**/*.exe"/>
                <exclude name="**/*.html"/>
            </fileset>
            <fileset dir="${rest.output.classes5}"/>
            <fileset dir="${route-converter.output.classes5}"/>
            <fileset dir="${route-converter5.output.classes5}"/>
            <fileset file="${license}"/>
            <manifest>
                <attribute name="Created-By" value="Christian Pesch"/>
                <attribute name="Download-At" value="http://www.routeconverter.de"/>
                <attribute name="Main-Class" value="slash.navigation.converter.gui.RouteConverter5"/>
                <attribute name="SplashScreen-Image" value="slash/navigation/converter/gui/RouteConverter.png"/>
                <attribute name="Version" value="${build.version}"/>
                <attribute name="Build-Number" value="${build.number}"/>
                <attribute name="Build-Date" value="${today}"/>
            </manifest>
        </jar>

        <jar destfile="${build.output}/RouteConverterLinux.jar">
            <fileset dir="${build.output.tmp-thirdparty}"/>
            <fileset dir="${build.output.tmp-thirdparty5}"/>
            <fileset dir="${build.output.tmp-linux}"/>
            <fileset dir="${build.output.tmp-djproject}"/>
            <fileset dir="${build.output.tmp-jna}"/>
            <fileset dir="${build.output.tmp-swt-linux}"/>
            <fileset dir="${catalog.output.classes5}"/>
            <fileset dir="${common.output.classes5}"/>
            <fileset dir="${common-gui.output.classes5}"/>
            <fileset dir="${elevationview.output.classes5}"/>
            <fileset dir="${geonames.output.classes5}"/>
            <fileset dir="${googlemaps.output.classes5}"/>
            <fileset dir="${jaxb5.output.classes5}"/>
            <fileset dir="${mapview.output.classes5}"/>
            <fileset dir="${navigation-formats.output.classes5}">
                <exclude name="**/*.dll"/>
                <exclude name="**/*.exe"/>
                <exclude name="**/*.html"/>
            </fileset>
            <fileset dir="${rest.output.classes5}"/>
            <fileset dir="${route-converter.output.classes5}"/>
            <fileset dir="${route-converter5.output.classes5}"/>
            <fileset dir="${swt-mapview.output.classes5}"/>
            <fileset file="${license}"/>
            <manifest>
                <attribute name="Created-By" value="Christian Pesch"/>
                <attribute name="Download-At" value="http://www.routeconverter.de"/>
                <attribute name="Main-Class" value="slash.navigation.converter.gui.RouteConverter5"/>
                <attribute name="SplashScreen-Image" value="slash/navigation/converter/gui/RouteConverter.png"/>
                <attribute name="Version" value="${build.version}"/>
                <attribute name="Build-Number" value="${build.number}"/>
                <attribute name="Build-Date" value="${today}"/>
            </manifest>
        </jar>

        <jar destfile="${build.output}/RouteConverterLinux64.jar">
            <fileset dir="${build.output.tmp-thirdparty}"/>
            <fileset dir="${build.output.tmp-thirdparty5}"/>
            <fileset dir="${build.output.tmp-linux}"/>
            <fileset dir="${build.output.tmp-djproject}"/>
            <fileset dir="${build.output.tmp-jna}"/>
            <fileset dir="${build.output.tmp-swt-linux64}"/>
            <fileset dir="${catalog.output.classes5}"/>
            <fileset dir="${common.output.classes5}"/>
            <fileset dir="${common-gui.output.classes5}"/>
            <fileset dir="${elevationview.output.classes5}"/>
            <fileset dir="${geonames.output.classes5}"/>
            <fileset dir="${googlemaps.output.classes5}"/>
            <fileset dir="${jaxb5.output.classes5}"/>
            <fileset dir="${mapview.output.classes5}"/>
            <fileset dir="${navigation-formats.output.classes5}">
                <exclude name="**/*.dll"/>
                <exclude name="**/*.exe"/>
                <exclude name="**/*.html"/>
            </fileset>
            <fileset dir="${rest.output.classes5}"/>
            <fileset dir="${route-converter.output.classes5}"/>
            <fileset dir="${route-converter5.output.classes5}"/>
            <fileset dir="${swt-mapview.output.classes5}"/>
            <fileset file="${license}"/>
            <manifest>
                <attribute name="Created-By" value="Christian Pesch"/>
                <attribute name="Download-At" value="http://www.routeconverter.de"/>
                <attribute name="Main-Class" value="slash.navigation.converter.gui.RouteConverter5"/>
                <attribute name="SplashScreen-Image" value="slash/navigation/converter/gui/RouteConverter.png"/>
                <attribute name="Version" value="${build.version}"/>
                <attribute name="Build-Number" value="${build.number}"/>
                <attribute name="Build-Date" value="${today}"/>
            </manifest>
        </jar>

        <jar destfile="${build.output}/RouteConverterMacJDIC.jar">
            <fileset dir="${build.output.tmp-thirdparty}"/>
            <fileset dir="${build.output.tmp-thirdparty5}"/>
            <fileset dir="${build.output.tmp-mac}"/>
            <fileset dir="${build.output.tmp-jdic}"/>
            <fileset dir="${build.output.tmp-jdic-mac}"/>
            <fileset dir="${catalog.output.classes5}"/>
            <fileset dir="${common.output.classes5}"/>
            <fileset dir="${common-gui.output.classes5}"/>
            <fileset dir="${elevationview.output.classes5}"/>
            <fileset dir="${geonames.output.classes5}"/>
            <fileset dir="${googlemaps.output.classes5}"/>
            <fileset dir="${jaxb5.output.classes5}"/>
            <fileset dir="${jdic-mapview.output.classes5}">
                <exclude name="**/*.dll"/>
                <exclude name="**/*.exe"/>
            </fileset>
            <fileset dir="${mapview.output.classes5}"/>
            <fileset dir="${navigation-formats.output.classes5}">
                <exclude name="**/*.dll"/>
                <exclude name="**/*.exe"/>
                <exclude name="**/*.html"/>
            </fileset>
            <fileset dir="${rest.output.classes5}"/>
            <fileset dir="${route-converter.output.classes5}"/>
            <fileset dir="${route-converter5.output.classes5}"/>
            <fileset file="${license}"/>
            <manifest>
                <attribute name="Created-By" value="Christian Pesch"/>
                <attribute name="Download-At" value="http://www.routeconverter.de"/>
                <attribute name="Main-Class" value="slash.navigation.converter.gui.RouteConverter5"/>
                <attribute name="SplashScreen-Image" value="slash/navigation/converter/gui/RouteConverter.png"/>
                <attribute name="Version" value="${build.version}"/>
                <attribute name="Build-Number" value="${build.number}"/>
                <attribute name="Build-Date" value="${today}"/>
            </manifest>
        </jar>

        <jar destfile="${build.output}/RouteConverterMacSWT.jar">
            <fileset dir="${build.output.tmp-thirdparty}"/>
            <fileset dir="${build.output.tmp-thirdparty5}"/>
            <fileset dir="${build.output.tmp-mac}"/>
            <fileset dir="${build.output.tmp-djproject}"/>
            <fileset dir="${build.output.tmp-jna}"/>
            <fileset dir="${build.output.tmp-swt-mac}"/>
            <fileset dir="${catalog.output.classes5}"/>
            <fileset dir="${common.output.classes5}"/>
            <fileset dir="${common-gui.output.classes5}"/>
            <fileset dir="${elevationview.output.classes5}"/>
            <fileset dir="${geonames.output.classes5}"/>
            <fileset dir="${googlemaps.output.classes5}"/>
            <fileset dir="${jaxb5.output.classes5}"/>
            <fileset dir="${mapview.output.classes5}"/>
            <fileset dir="${navigation-formats.output.classes5}">
                <exclude name="**/*.dll"/>
                <exclude name="**/*.exe"/>
                <exclude name="**/*.html"/>
            </fileset>
            <fileset dir="${rest.output.classes5}"/>
            <fileset dir="${route-converter.output.classes5}"/>
            <fileset dir="${route-converter5.output.classes5}"/>
            <fileset dir="${swt-mapview.output.classes5}"/>
            <fileset file="${license}"/>
            <manifest>
                <attribute name="Created-By" value="Christian Pesch"/>
                <attribute name="Download-At" value="http://www.routeconverter.de"/>
                <attribute name="Main-Class" value="slash.navigation.converter.gui.RouteConverter5"/>
                <attribute name="SplashScreen-Image" value="slash/navigation/converter/gui/RouteConverter.png"/>
                <attribute name="Version" value="${build.version}"/>
                <attribute name="Build-Number" value="${build.number}"/>
                <attribute name="Build-Date" value="${today}"/>
            </manifest>
        </jar>

        <jar destfile="${build.output}/RouteConverterCmdLine.jar">
            <fileset dir="${build.output.tmp-thirdparty}"/>
            <fileset dir="${build.output.tmp-thirdparty5}"/>
            <fileset dir="${common.output.classes5}">
                <exclude name="**/*.properties"/>
            </fileset>
            <fileset dir="${jaxb5.output.classes5}"/>
            <fileset dir="${navigation-formats.output.classes5}">
                <exclude name="**/*.dll"/>
                <exclude name="**/*.exe"/>
                <exclude name="**/*.html"/>
            </fileset>
            <fileset dir="${route-converter-cmdline.output.classes5}"/>
            <fileset dir="${build.output.tmp-linux}">
                <include name="bin/**/gpsbabel"/>
            </fileset>
            <fileset dir="${build.output.tmp-mac}">
                <include name="bin/**/gpsbabel"/>
            </fileset>
            <fileset dir="${build.output.tmp-windows}">
                <include name="bin/**/libexpat.dll"/>
                <include name="bin/**/gpsbabel.exe"/>
            </fileset>
            <fileset file="${license}"/>
            <manifest>
                <attribute name="Created-By" value="Christian Pesch"/>
                <attribute name="Download-At" value="http://www.routeconverter.de"/>
                <attribute name="Main-Class" value="slash.navigation.converter.cmdline.RouteConverterCmdLine"/>
                <attribute name="SplashScreen-Image" value="slash/navigation/converter/gui/RouteConverter.png"/>
                <attribute name="Version" value="${build.version}"/>
                <attribute name="Build-Number" value="${build.number}"/>
                <attribute name="Build-Date" value="${today}"/>
            </manifest>
        </jar>
    </target>

    <target name="exe" depends="jar">
        <path id="jsmoothgen.classpath">
            <path location="${jsmooth.jsmooth.lib}"/>
        </path>
        <taskdef name="jsmoothgen"
                 classname="net.charabia.jsmoothgen.ant.JSmoothGen"
                 classpathref="jsmoothgen.classpath"/>
        <jsmoothgen project="build/RouteConverter.jsmooth"
                    skeletonroot="thirdparty/jsmooth/jsmooth/skeletons"/>
        <jsmoothgen project="build/RouteConverter64.jsmooth"
                    skeletonroot="thirdparty/jsmooth/jsmooth/skeletons"/>
    </target>

    <target name="app" depends="jar5">
        <path id="jarbundler.classpath">
            <path location="${jarbundler.jarbundler.lib}"/>
        </path>
        <taskdef name="jarbundler"
                 classname="net.sourceforge.jarbundler.JarBundler"
                 classpathref="jarbundler.classpath"/>
        <jarbundler dir="build/output"
                    name="RouteConverter"
                    mainclass="slash.navigation.converter.gui.RouteConverter5"
                    jar="build/output/RouteConverterMac.jar"
                    build="${build.number}"
                    jvmversion="1.5+"
                    signature="RCNV"
                    stubfile="thirdparty/jarbundler/jarbundler/stub/JavaApplicationStub"
                    version="${build.version}"/>
    </target>

    <!-- c:\Programme\Java\jdk1.6.0_16\bin\keytool -genkey -keystore cpesch.keystore -alias cpesch
         c:\Programme\Java\jdk1.6.0_16\bin\keytool -selfcert -alias cpesch -keystore cpesch.keystore
         c:\Programme\Java\jdk1.6.0_16\bin\keytool.exe -list -keystore cpesch.keystore -->
    <target name="webstart" depends="init">
        <mkdir dir="${build.output.webstart}"/>

        <jar destfile="${build.output.webstart}/RouteConverter.jar">
            <fileset dir="${build.output.tmp-thirdparty}"/>
            <fileset dir="${build.output.tmp-djproject}"/>
            <fileset dir="${catalog.output.classes}"/>
            <fileset dir="${common.output.classes}"/>
            <fileset dir="${common-gui.output.classes}"/>
            <fileset dir="${elevationview.output.classes}"/>
            <fileset dir="${geonames.output.classes}"/>
            <fileset dir="${googlemaps.output.classes}"/>
            <fileset dir="${jaxb6.output.classes}"/>
            <fileset dir="${mapview.output.classes}"/>
            <fileset dir="${navigation-formats.output.classes}">
                <exclude name="**/*.dll"/>
                <exclude name="**/*.exe"/>
                <exclude name="**/*.html"/>
            </fileset>
            <fileset dir="${rest.output.classes}"/>
            <fileset dir="${route-converter.output.classes}"/>
            <fileset dir="${route-converter6.output.classes}"/>
            <fileset dir="${swt-mapview.output.classes}"/>
            <fileset file="${license}"/>
            <manifest>
                <attribute name="Created-By" value="Christian Pesch"/>
                <attribute name="Download-At" value="http://www.routeconverter.de"/>
                <attribute name="Main-Class" value="slash.navigation.converter.gui.RouteConverter6"/>
                <attribute name="Version" value="${build.version}"/>
                <attribute name="Build-Number" value="${build.number}"/>
                <attribute name="Build-Date" value="${today}"/>
            </manifest>
        </jar>

        <jar destfile="${build.output.webstart}/gpsbabel-linux-x86.jar">
            <fileset dir="${build.output.tmp-linux}"/>
        </jar>
        <jar destfile="${build.output.webstart}/jna.jar">
            <fileset dir="${build.output.tmp-jna}"/>
        </jar>
        <jar destfile="${build.output.webstart}/gpsbabel-macosx-x86.jar">
            <fileset dir="${build.output.tmp-mac}"/>
        </jar>
        <jar destfile="${build.output.webstart}/gpsbabel-win32-x86.jar">
            <fileset dir="${build.output.tmp-windows}"/>
        </jar>

        <copy todir="${build.output.webstart}" overwrite="true">
            <fileset file="${eclipse.swt.linux.x86.lib}"/>
            <fileset file="${eclipse.swt.linux.x86_64.lib}"/>
            <fileset file="${eclipse.swt.mac.x86.lib}"/>
            <fileset file="${eclipse.swt.win32.x86.lib}"/>
            <fileset file="${eclipse.swt.win32.x86_64.lib}"/>
        </copy>

        <signjar alias="cpesch" keystore="build/cpesch.keystore" storepass="cpesch" lazy="true">
            <path>
                <fileset dir="${build.output.webstart}/" includes="**/*.jar"/>
            </path>
        </signjar>
    </target>
                                      
    <!-- Cleans up any temporary stuff -->
    <target name="clean" depends="init">
        <delete dir="${catalog.output}"/>
        <delete dir="${common.output}"/>
        <delete dir="${common-gui.output}"/>
        <delete dir="${elevationview.output}"/>
        <delete dir="${geonames.output}"/>
        <delete dir="${googlemaps.output}"/>
        <delete dir="${jaxb5.output}"/>
        <delete dir="${jaxb6.output}"/>
        <delete dir="${jdic-mapview.output}"/>
        <delete dir="${mapview.output}"/>
        <delete dir="${navigation-formats.output}"/>
        <delete dir="${rest.output}"/>
        <delete dir="${route-converter.output}"/>
        <delete dir="${route-converter5.output}"/>
        <delete dir="${route-converter6.output}"/>
        <delete dir="${swt-mapview.output}"/>
        <delete dir="${build.output}"/>
    </target>
</project>
